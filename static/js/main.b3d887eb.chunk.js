(this["webpackJsonppath-finder"]=this["webpackJsonppath-finder"]||[]).push([[0],{17:function(e,t,n){e.exports=n(36)},22:function(e,t,n){},23:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),o=n(15),s=n.n(o),c=(n(22),n(23),n(24),n(11)),l=n.n(c),u=n(9),d=n(16),p=n(3),h=n(6),f=n(8),m=n(7),v=(n(26),n(27),n(5)),b=n(4);!function(e){e[e.none=0]="none",e[e.start=1]="start",e[e.end=2]="end",e[e.wall=3]="wall",e[e.clean=4]="clean"}(a||(a={}));var N=n(2),y=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e)).getBackgroundColor=function(){if(!Object(N.isNil)(i.props.squareModel.nodeColor))return i.props.squareModel.nodeColor;switch(i.props.squareModel.action){case a.wall:return"black";case a.clean:case a.none:return"white"}return"white"},i.showHoverIcon=function(){if(!i.state.isHovered||i.props.squareModel.action===a.start||i.props.squareModel.action===a.end)return null;switch(i.props.actionSelected){case a.wall:return r.a.createElement(b.a,{icon:v.e});case a.clean:return r.a.createElement(b.a,{icon:v.c,color:"white"});case a.start:return r.a.createElement(b.a,{icon:v.a});case a.end:return r.a.createElement(b.a,{icon:v.b});case a.none:return null}},i.onMouseDown=function(){i.props.onChangeAction(i.props.position),i.props.onMouseDown()},i.onMouseEnter=function(){i.setState({isHovered:!0}),i.props.isClicked&&i.props.onChangeAction(i.props.position)},i.onMouseLeave=function(){i.setState({isHovered:!1})},i.showIcon=function(){switch(i.props.squareModel.action){case a.start:return r.a.createElement(b.a,{icon:v.a});case a.end:return r.a.createElement(b.a,{icon:v.b})}return null},i.render=function(){return r.a.createElement("button",{className:"square",style:{backgroundColor:i.getBackgroundColor()},onMouseDown:function(){return i.onMouseDown()},onMouseUp:function(){return i.props.onMouseUp()},onMouseEnter:function(){return i.onMouseEnter()},onMouseLeave:function(){return i.onMouseLeave()}},i.showIcon(),i.showHoverIcon())},i.state={isHovered:!1},i}return n}(i.Component),k=(n(34),function(){function e(t,n){Object(p.a)(this,e),this._col=void 0,this._row=void 0,this._col=t,this._row=n}return Object(h.a)(e,[{key:"col",get:function(){return this._col}},{key:"row",get:function(){return this._row}}]),e}()),E=n(37),w=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).renderSquare=function(t,n,a){return r.a.createElement(y,{key:Object(E.a)(),actionSelected:e.props.actionSelected,position:new k(t,n),squareModel:a,isClicked:e.props.isClicked,onMouseDown:function(){return e.props.onMouseDown()},onMouseUp:function(){return e.props.onMouseUp()},onChangeAction:function(t){return e.props.onChangeAction(t)}})},e.createBoard=function(t){var n,a=[],i=0,o=Object(u.a)(t);try{for(o.s();!(n=o.n()).done;){var s,c=n.value,l=0,d=[],p=Object(u.a)(c);try{for(p.s();!(s=p.n()).done;){var h=s.value;d.push(e.renderSquare(i,l,h)),l+=1}}catch(f){p.e(f)}finally{p.f()}i+=1,a.push(r.a.createElement("div",{className:"board-row",key:Object(E.a)()},d))}}catch(f){o.e(f)}finally{o.f()}return a},e.render=function(){return r.a.createElement("div",{className:"board"},e.createBoard(e.props.actionMatrix))},e}return n}(i.Component),j=(n(35),function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).playButtonRender=function(){var t=r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e.props.onPlay()}},r.a.createElement(b.a,{icon:v.f,size:"sm"}),r.a.createElement("span",null,"play")),n=r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e.props.onPlay()},disabled:e.props.isPlaying},r.a.createElement(b.a,{icon:v.d,size:"sm"}),r.a.createElement("span",null,"pause"));return e.props.isPlaying?n:t},e.render=function(){return r.a.createElement("div",{className:"card tool"},r.a.createElement("div",{className:"card-header"},"Tools"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return e.props.onAction(a.wall)},disabled:e.props.isPlaying},r.a.createElement(b.a,{icon:v.e,size:"sm"}),r.a.createElement("span",null,"Wall"))),r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return e.props.onAction(a.clean)},disabled:e.props.isPlaying},r.a.createElement(b.a,{icon:v.c,size:"sm"}),r.a.createElement("span",null,"clean"))),r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e.props.onAction(a.start)},disabled:e.props.isPlaying},r.a.createElement(b.a,{icon:v.a,size:"sm"}),r.a.createElement("span",null,"start"))),r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e.props.onAction(a.end)},disabled:e.props.isPlaying},r.a.createElement(b.a,{icon:v.b,size:"sm"}),r.a.createElement("span",null,"end"))))),r.a.createElement("div",{className:"col-7"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},e.playButtonRender()),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-outline-secondary",disabled:!0},r.a.createElement(b.a,{icon:v.g,size:"sm"}),r.a.createElement("span",null,"prev"))),r.a.createElement("div",{className:"col-3"},r.a.createElement("input",{id:"steps",readOnly:!0,className:"form-control form-control-sm",type:"number",min:"0",value:e.props.steps})),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-outline-secondary",disabled:!0},r.a.createElement(b.a,{icon:v.h,size:"sm"}),r.a.createElement("span",null,"next"))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-7"},r.a.createElement("input",{id:"time",className:"form-control form-control-sm",type:"number",min:"0",disabled:e.props.isPlaying,value:e.props.speed,onChange:function(t){return e.props.onSpeedChange(Number(t.target.value))}})),r.a.createElement("label",{htmlFor:"time",className:"col-5"},"ms"))))))))},e}return n}(i.Component)),g=function(){function e(t,n,a,i){Object(p.a)(this,e),this._id=void 0,this._position=void 0,this._childArray=void 0,this._distant=void 0,this._isEnd=void 0,this._id=Object(E.a)(),this._position=t,this._childArray=n,this._isEnd=a,this._distant=i}return Object(h.a)(e,[{key:"id",get:function(){return this._id}},{key:"position",get:function(){return this._position}},{key:"childArray",get:function(){return this._childArray}},{key:"isEnd",get:function(){return this._isEnd}},{key:"distant",get:function(){return this._distant},set:function(e){this._distant=e}}]),e}(),O=function e(){var t=this;Object(p.a)(this,e),this.fifoStack=void 0,this.positionChecked=void 0,this.matrixToTree=function(n,a){t.fifoStack=[new g(a,[],!1,null)];for(var i=[];!Object(N.isEmpty)(t.fifoStack);){var r=t.fifoStack.shift();if(!Object(N.isNil)(r)){var o=r.position,s=t.createTreeNode(n,o.col,o.row-1),c=t.createTreeNode(n,o.col,o.row+1),l=t.createTreeNode(n,o.col-1,o.row),u=t.createTreeNode(n,o.col+1,o.row);e.addToFatherNode(r,s,c,l,u),t.addNodesQueue(s,c,l,u),i.push(r)}}return i},this.createTreeNode=function(e,n,i){if(n<0||n>=e.length)return null;if(i<0||i>=e[n].length)return null;try{var r=e[n][i];return t.positionChecked.has(r.id)?null:(t.positionChecked.add(r.id),Object(N.isNil)(r.action)||r.action===a.start||r.action===a.wall?(console.log("wall"),null):new g(new k(n,i),[],r.action===a.end,null))}catch(o){return console.log("Errror: ",n),null}},this.addNodesQueue=function(e,n,a,i){Object(N.isNil)(e)||t.fifoStack.push(e),Object(N.isNil)(n)||t.fifoStack.push(n),Object(N.isNil)(a)||t.fifoStack.push(a),Object(N.isNil)(i)||t.fifoStack.push(i)},this.fifoStack=[],this.positionChecked=new Set};O.addToFatherNode=function(e,t,n,a,i){Object(N.isNil)(t)||e.childArray.push(t),Object(N.isNil)(n)||e.childArray.push(n),Object(N.isNil)(a)||e.childArray.push(a),Object(N.isNil)(i)||e.childArray.push(i)};var M=function(){function e(t,n,a){Object(p.a)(this,e),this._currentNode=void 0,this._previousTreeNode=void 0,this._distant=void 0,this._currentNode=t,this._previousTreeNode=n,this._distant=a}return Object(h.a)(e,[{key:"currentNode",get:function(){return this._currentNode}},{key:"previousTreeNode",get:function(){return this._previousTreeNode}},{key:"distant",get:function(){return this._distant},set:function(e){this._distant=e}}],[{key:"compare",value:function(e,t){return e.distant<t.distant?-1:e.distant>t.distant?1:0}}]),e}(),C=function(){function e(t,n){Object(p.a)(this,e),this._dijkstraStepResults=void 0,this._path=void 0,this._dijkstraStepResults=t,this._path=n}return Object(h.a)(e,[{key:"dijkstraStepResults",get:function(){return this._dijkstraStepResults}},{key:"path",get:function(){return this._path}}]),e}(),S=function e(){var t=this;Object(p.a)(this,e),this.visited=void 0,this.dijkstraModelArray=void 0,this.calculateShorterPath=function(e){var n=e[0];do{t.visited.add(n.id);var a=Object(N.isNil)(n.distant)?0:n.distant,i=new M(n,null,a);t.dijkstraModelArray.push(i),t.iterateChild(i),n=t.getNextNotVisitedNode()}while(!Object(N.isNil)(n)&&!n.isEnd);if(Object(N.isNil)(n))return new C([],[]);var r=t.createPath(n).reverse();return new C(t.dijkstraModelArray,r)},this.iterateChild=function(e){var n,a=e.currentNode,i=Object(u.a)(a.childArray);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.hasVisited(r)||(r.distant=e.distant+1,t.updateDijkstraModelArray(r,a,r.distant))}}catch(o){i.e(o)}finally{i.f()}},this.updateDijkstraModelArray=function(e,n,a){var i=t.dijkstraModelArray.find((function(t){return t.currentNode===e}));Object(N.isNil)(i)?t.dijkstraModelArray.push(new M(e,n,a)):i.distant>a&&(i.distant=a)},this.getNextNotVisitedNode=function(){var e=t.dijkstraModelArray.filter((function(e){return!t.visited.has(e.currentNode.id)}));return Object(N.isEmpty)(e)?null:e.sort(M.compare)[0].currentNode},this.hasVisited=function(e){var n=e.id;return t.visited.has(n)},this.createPath=function(e){var n=[],a=t.findDijkstraByCurrentNode(e);do{if(!Object(N.isNil)(a)){var i=a;n.push(i.currentNode.position),a=t.findDijkstraByCurrentNode(i.previousTreeNode)}}while(!Object(N.isNil)(a));return n},this.findDijkstraByCurrentNode=function(e){if(!Object(N.isNil)(e))return t.dijkstraModelArray.find((function(t){return t.currentNode===e}))},this.visited=new Set,this.dijkstraModelArray=[]},_=function(){function e(t,n){Object(p.a)(this,e),this._id=void 0,this._action=void 0,this._nodeColor=void 0,this._id=Object(E.a)(),this._action=t,this._nodeColor=n}return Object(h.a)(e,[{key:"id",get:function(){return this._id}},{key:"action",get:function(){return this._action}},{key:"nodeColor",get:function(){return this._nodeColor}}]),e}(),A=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e)).setActionState=function(e){i.setState({actionSelected:e,isClicked:i.state.isClicked})},i.setIsClicked=function(e){i.setState({actionSelected:i.state.actionSelected,isClicked:e})},i.createActionMatrix=function(e,t){for(var n=[[]],i=0;i<e;++i){for(var r=[],o=0;o<t;++o)r.push(new _(a.none,null));n.push(r)}return n},i.updateActionMatrix=function(e){var t=i.cleanActionMatrix(e,i.state.actionSelected);t[e.col][e.row]=new _(i.state.actionSelected,null),i.setState({actionSelected:i.state.actionSelected,actionMatrix:t,isClicked:i.state.isClicked})},i.cleanActionMatrix=function(e,t){var n=i.state.actionMatrix.slice(0);switch(t){case a.start:i.cleanStarPosition(e,n);break;case a.end:i.cleanEndPosition(e,n)}return n},i.cleanStarPosition=function(e,t){return null!==i.state.startPosition&&(t[i.state.startPosition.col][i.state.startPosition.row]=new _(a.none,null)),i.setState({startPosition:e}),t},i.cleanEndPosition=function(e,t){return null!==i.state.endPosition&&(t[i.state.endPosition.col][i.state.endPosition.row]=new _(a.none,null)),i.setState({endPosition:e}),t},i.executeDijkstraAlgorithm=function(){if(!i.state.isPlaying){i.setState({isPlaying:!0});var e=i.state.startPosition;if(!Object(N.isNil)(e)){var t=(new O).matrixToTree(i.state.actionMatrix,e),n=(new S).calculateShorterPath(t);i.paintSimulation(n.dijkstraStepResults).then((function(e){return i.paintPath(n.path)}))}}},i.paintSimulation=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r,o,s,c,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.getCleanPathMatrix(),i.setState({steps:0}),r=function(e){return new Promise((function(t){return setTimeout(t,e)}))},o=Object(u.a)(t),e.prev=4,o.s();case 6:if((s=o.n()).done){e.next=17;break}if(c=s.value,d=c.currentNode,p=a[d.position.col][d.position.row],a[d.position.col][d.position.row]=new _(p.action,n.getColorByDistant(c.distant)),i.setState({actionMatrix:a.slice(0),steps:i.state.steps+1}),!(i.state.speed>1)){e.next=15;break}return e.next=15,r(i.state.speed);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[4,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),i.paintPath=function(e){var t,n=i.state.actionMatrix.slice(0),a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=n[r.col][r.row];n[r.col][r.row]=new _(o.action,"blue")}}catch(s){a.e(s)}finally{a.f()}i.setState({actionMatrix:n,isPlaying:!1})},i.getCleanPathMatrix=function(){for(var e=i.state.actionMatrix.slice(0),t=0;t<e.length;++t)for(var n=0;n<e[t].length;++n){var a=e[t][n];e[t][n]=new _(a.action,null)}return e},i.render=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"path-finding"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"text-center title"},"Dijkstra")),r.a.createElement("div",{className:"row"},r.a.createElement(j,{speed:i.state.speed,steps:i.state.steps,isPlaying:i.state.isPlaying,onSpeedChange:function(e){return i.setState({speed:e})},onAction:function(e){return i.setActionState(e)},onPlay:function(){return i.executeDijkstraAlgorithm()}})),r.a.createElement("div",{className:"row"},r.a.createElement(w,{actionMatrix:i.state.actionMatrix,actionSelected:i.state.actionSelected,isClicked:i.state.isClicked,onMouseDown:function(){return i.setIsClicked(!0)},onMouseUp:function(){return i.setIsClicked(!1)},onChangeAction:function(e){return i.updateActionMatrix(e)}})))))))},i.state={actionSelected:a.none,isClicked:!1,actionMatrix:i.createActionMatrix(20,30),startPosition:null,endPosition:null,speed:0,steps:0,isPlaying:!1},i}return Object(h.a)(n,null,[{key:"getColorByDistant",value:function(e){return e<6?"green":e<12?"yellow":e<18?"orange":"red"}}]),n}(i.Component);var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.b3d887eb.chunk.js.map